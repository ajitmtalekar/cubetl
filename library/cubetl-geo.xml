<?xml version="1.0" encoding="UTF-8"?>
<objects xmlns="http://www.springframework.org/springpython/schema/objects/1.1"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/springpython/schema/objects/1.1
               http://springpython.webfactional.com/schema/context/spring-python-context-1.1.xsd">


     <object id="cubetl.dim.geo.contcountry" class="cubetl.olap.HierarchyDimension">

        <property name="name" value="contcountry" ></property>
        <property name="label" value="Country" ></property>

        <!-- <property name="role" value="geo"></property>  -->

        <property name="hierarchies">
            <list>
	            <dict>
	                <entry><key><value>name</value></key><value>contcountry</value></entry>
	                <entry><key><value>label</value></key><value>Country</value></entry>
	                <entry><key><value>levels</value></key><value>continent, country</value></entry>
	            </dict>
            </list>
        </property>

        <property name="levels">
            <list>
                <ref object="cubetl.dim.geo.continent" />
                <ref object="cubetl.dim.geo.country" />
            </list>
        </property>

    </object>

    <object id="cubetl.dim.geo.continent" class="cubetl.olap.Dimension">
        <property name="name" value="continent" ></property>
        <property name="label" value="Continent" ></property>

        <property name="attributes">
            <list>
                <dict>
                    <entry><key><value>name</value></key><value>continent</value></entry>
                    <entry><key><value>label</value></key><value>Continent</value></entry>
                    <entry><key><value>type</value></key><value>String</value></entry>
                </dict>
            </list>
        </property>
    </object>

    <object id="cubetl.dim.geo.country" class="cubetl.olap.Dimension">
        <property name="name" value="country" ></property>
        <property name="label" value="Country" ></property>

        <property name="attributes">
            <list>
                <dict>
                    <entry><key><value>name</value></key><value>code</value></entry>
                    <entry><key><value>label</value></key><value>Country Code</value></entry>
                    <entry><key><value>type</value></key><value>String</value></entry>
                </dict>
                <dict>
                    <entry><key><value>name</value></key><value>name</value></entry>
                    <entry><key><value>label</value></key><value>Country</value></entry>
                    <entry><key><value>type</value></key><value>String</value></entry>
                </dict>
            </list>
        </property>
    </object>


    <object id="cubetl.mappings.geo.continent" class="cubetl.core.Mappings" >
        <property name="mappings">
            <list>
                <dict>
                    <entry><key><value>name</value></key><value>id</value></entry>
                    <!-- <entry><key><value>column</value></key><value>date_published_id</value></entry>  -->
                    <entry><key><value>value</value></key><value>${ text.slugu(m["country_continent"]) }</value></entry>
                    <entry><key><value>pk</value></key><value>True</value></entry>
                    <entry><key><value>type</value></key><value>String</value></entry>
                </dict>
                <dict>
                    <entry><key><value>name</value></key><value>continent</value></entry>
                    <entry><key><value>value</value></key><value>${ m["country_continent"] }</value></entry>
                </dict>
            </list>
        </property>
    </object>

    <object id="cubetl.mappings.geo.country" class="cubetl.core.Mappings" >
        <property name="mappings">
            <list>
                <dict>
                    <entry><key><value>name</value></key><value>code</value></entry>
                    <entry><key><value>value</value></key><value>${ m["country_code"] }</value></entry>
                    <entry><key><value>pk</value></key><value>True</value></entry>
                    <entry><key><value>type</value></key><value>String</value></entry>
                </dict>
                <dict>
                    <entry><key><value>name</value></key><value>name</value></entry>
                    <entry><key><value>value</value></key><value>${ m["country_name"].year }</value></entry>
                </dict>
            </list>
        </property>
    </object>

</objects>
